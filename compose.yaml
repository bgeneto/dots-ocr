services:
  dots-ocr-server:
    image: dots-ocr
    build: .
    container_name: dots-ocr
    ports:
      - "8007:8501"
    volumes:
      #download model to local，model url：https://www.modelscope.cn/models/rednote-hilab/dots.ocr
      - ./weights/DotsOCR:/workspace/weights/DotsOCR
      - ./streamlit_app.py:/vllm-workspace/streamlit_app.py
      - /etc/timezone:/etc/timezone:ro
      - /etc/localtime:/etc/localtime:ro
    environment:
      - PYTHONPATH=/workspace/weights:$$PYTHONPATH
    restart: unless-stopped
    deploy:
      resources:
        reservations:
          devices:
            - capabilities: [gpu]
              device_ids: ["0"]
